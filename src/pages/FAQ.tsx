
import { useEffect, useState } from 'react';
import { ChevronDown, ChevronUp } from 'lucide-react';
import CallToAction from '@/components/CallToAction';

interface FAQ {
  id: number;
  question: string;
  answer: string;
  category: string;
}

const faqs: FAQ[] = [
  // О методе
  {
    id: 1,
    question: "Сколько сеансов обычно требуется?",
    answer: "В большинстве случаев видимые результаты достигаются за 2-4 сеанса. Некоторые проблемы, особенно давние или сложные, могут потребовать 5-6 встреч. Я всегда стремлюсь к максимально быстрому и эффективному решению вашей проблемы, поэтому мы не затягиваем работу на месяцы или годы, как это бывает в традиционной психотерапии.",
    category: "Метод"
  },
  {
    id: 2,
    question: "Безопасен ли ваш метод?",
    answer: "Да, метод полностью безопасен. Мы работаем с естественными процессами вашего мозга и подсознания, не используя гипноз или другие методы изменения сознания. Вы всегда остаетесь в полном сознании и контролируете процесс. Метод основан на современных исследованиях в области эпигенетики и нейропластичности мозга, и не имеет побочных эффектов.",
    category: "Метод"
  },
  {
    id: 3,
    question: "Чем ваш подход отличается от психотерапии?",
    answer: "Традиционная психотерапия часто фокусируется на длительном анализе проблем и работе с сознанием. Мой подход использует достижения эпигенетики для быстрого выявления и деактивации подсознательных программ, которые являются корнем проблемы, что дает более быстрые и стойкие результаты. Мы не просто обсуждаем проблемы, а работаем с их первопричинами на глубинном уровне.",
    category: "Метод"
  },
  {
    id: 4,
    question: "Как скоро я увижу результаты?",
    answer: "Многие клиенты отмечают первые изменения уже после первого сеанса. Полное решение проблемы обычно наступает после 2-4 встреч. Вы заметите, как меняется ваше восприятие ситуаций и реакции на привычные триггеры. Важно отметить, что результаты стойкие и не требуют постоянной 'поддержки', как это часто бывает при работе с симптомами.",
    category: "Метод"
  },
  {
    id: 5,
    question: "Используете ли вы гипноз или НЛП?",
    answer: "Нет, я не использую гипноз, НЛП или другие методы манипуляции сознанием. Мой подход основан на работе с естественными механизмами мозга через осознанный диалог и специальные техники, которые помогают идентифицировать и деактивировать негативные подсознательные программы. Вы всегда находитесь в полном сознании и контролируете процесс.",
    category: "Метод"
  },
  
  // О сеансах
  {
    id: 6,
    question: "Как проходит сеанс?",
    answer: "Сеанс начинается с обсуждения вашей конкретной ситуации и проблемы. Затем мы используем специальные диагностические методики для выявления подсознательных программ, создающих проблему. После этого применяются эпигенетические техники для деактивации этих программ. Весь процесс проходит в формате диалога, без использования гипноза или других измененных состояний сознания.",
    category: "Сеансы"
  },
  {
    id: 7,
    question: "Проводите ли вы онлайн-консультации?",
    answer: "Да, я провожу консультации как лично, так и онлайн через Zoom или Skype. Метод одинаково эффективен в обоих форматах, что позволяет работать с клиентами из любой точки мира. Для онлайн-консультации вам понадобится только устройство с интернет-соединением и тихое место, где вас не будут отвлекать.",
    category: "Сеансы"
  },
  {
    id: 8,
    question: "Сколько длится сеанс?",
    answer: "Первая ознакомительная консультация обычно длится около 30 минут. Последующие рабочие сеансы занимают от 60 до 90 минут, в зависимости от сложности проблемы и индивидуальных особенностей клиента. Точное время мы обсуждаем заранее при планировании встречи.",
    category: "Сеансы"
  },
  {
    id: 9,
    question: "Нужно ли как-то готовиться к сеансу?",
    answer: "Специальная подготовка к сеансу не требуется. Просто важно настроиться на открытый диалог и быть готовым к позитивным изменениям. Для онлайн-встреч желательно заранее проверить работу камеры и микрофона, а также обеспечить себе тихое пространство без отвлекающих факторов на время сеанса.",
    category: "Сеансы"
  },
  {
    id: 10,
    question: "Работаете ли вы с детьми?",
    answer: "Я работаю с клиентами от 16 лет и старше. Для работы с детьми младшего возраста требуются специализированные методики, которые отличаются от моего основного подхода. Если у вас есть запрос относительно ребенка младше 16 лет, я могу порекомендовать проверенных специалистов, работающих с детской психологией.",
    category: "Сеансы"
  },
  
  // Результаты
  {
    id: 11,
    question: "Гарантируете ли вы результат?",
    answer: "Я не даю 100% гарантий, так как результат зависит от множества факторов, включая вашу открытость к изменениям и особенности конкретной проблемы. Однако статистика показывает, что более 95% моих клиентов достигают значительных позитивных изменений. Если после первого-второго сеанса вы не заметите никаких сдвигов, мы обсудим другие варианты помощи.",
    category: "Результаты"
  },
  {
    id: 12,
    question: "Будут ли результаты постоянными?",
    answer: "Да, результаты работы с подсознательными программами обычно являются постоянными, поскольку мы устраняем первопричину проблемы, а не просто временно облегчаем симптомы. После успешной деактивации негативной программы она не возвращается даже в стрессовых ситуациях. Иногда для закрепления результата может потребоваться дополнительный сеанс через некоторое время.",
    category: "Результаты"
  },
  {
    id: 13,
    question: "Что делать, если проблема вернулась?",
    answer: "Это случается редко, но если вы заметили возвращение проблемы, важно связаться со мной для проведения дополнительного сеанса. Чаще всего это означает, что мы работали не со всеми аспектами проблемы или что существуют дополнительные подсознательные программы, требующие внимания. Обычно одного дополнительного сеанса достаточно для полного решения.",
    category: "Результаты"
  },
  
  // Организационные вопросы
  {
    id: 14,
    question: "Сколько стоит консультация?",
    answer: "Стоимость консультаций зависит от формата (очно или онлайн) и сложности проблемы. Первичная консультация длительностью около 30 минут бесплатна. Точные расценки мы обсуждаем индивидуально после первичной консультации. Также есть выгодные пакетные предложения при оплате нескольких сеансов сразу.",
    category: "Организационные вопросы"
  },
  {
    id: 15,
    question: "Какие способы оплаты вы принимаете?",
    answer: "Я принимаю оплату банковскими картами, переводами на счет, а также через популярные платежные системы. Для международных клиентов доступна оплата через PayPal. Все детали оплаты мы обсуждаем индивидуально перед началом работы.",
    category: "Организационные вопросы"
  },
  {
    id: 16,
    question: "Как записаться на консультацию?",
    answer: "Записаться на консультацию можно несколькими способами: заполнив форму на сайте, написав мне в Telegram (@Nikor_ad) или позвонив по телефону +7 931 996 7590. Я свяжусь с вами в течение 24 часов, чтобы обсудить детали и назначить удобное время для первой встречи.",
    category: "Организационные вопросы"
  }
];

const FAQ = () => {
  useEffect(() => {
    // Scroll to top when component mounts
    window.scrollTo(0, 0);
  }, []);

  const [openItem, setOpenItem] = useState<number | null>(null);
  const [selectedCategory, setSelectedCategory] = useState<string>("Все");

  const toggleItem = (id: number) => {
    setOpenItem(openItem === id ? null : id);
  };

  const categories = ["Все", "Метод", "Сеансы", "Результаты", "Организационные вопросы"];
  const filteredFAQs = selectedCategory === "Все" ? 
    faqs : 
    faqs.filter(faq => faq.category === selectedCategory);

  return (
    <>
      <div className="pt-32 pb-16 bg-gradient-to-b from-blue-50 to-white">
        <div className="container mx-auto px-4">
          <div className="max-w-3xl mx-auto text-center">
            <h1 className="text-4xl md:text-5xl font-bold gradient-heading mb-6">
              Часто задаваемые вопросы
            </h1>
            <p className="text-lg md:text-xl text-gray-700">
              Ответы на самые распространенные вопросы о моем подходе
            </p>
          </div>
        </div>
      </div>

      <section className="py-16">
        <div className="container mx-auto px-4">
          <div className="max-w-4xl mx-auto">
            <div className="flex flex-wrap gap-3 mb-10 justify-center">
              {categories.map(category => (
                <button
                  key={category}
                  onClick={() => setSelectedCategory(category)}
                  className={`px-4 py-2 rounded-full transition-colors ${
                    selectedCategory === category 
                      ? "bg-brand-500 text-white" 
                      : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                  }`}
                >
                  {category}
                </button>
              ))}
            </div>
            
            <div className="space-y-4">
              {filteredFAQs.map((faq) => (
                <div 
                  key={faq.id} 
                  className="border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm transition-shadow hover:shadow-md"
                >
                  <button
                    className="py-5 px-6 w-full flex justify-between items-center text-left"
                    onClick={() => toggleItem(faq.id)}
                  >
                    <h3 className="text-lg font-medium text-gray-800">{faq.question}</h3>
                    <div className="ml-4 flex-shrink-0">
                      {openItem === faq.id ? 
                        <ChevronUp size={20} className="text-brand-500" /> : 
                        <ChevronDown size={20} className="text-gray-400" />
                      }
                    </div>
                  </button>
                  
                  <div 
                    className={`overflow-hidden transition-all duration-300 ${
                      openItem === faq.id ? "max-h-96" : "max-h-0"
                    }`}
                  >
                    <div className="px-6 pb-5 border-t border-gray-100 pt-4">
                      <p className="text-gray-600">{faq.answer}</p>
                      <div className="mt-3">
                        <span className="inline-block text-xs font-medium text-brand-600 bg-brand-50 px-2 py-1 rounded">
                          {faq.category}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>
            
            <div className="mt-12 p-6 bg-gray-50 rounded-lg">
              <h3 className="text-xl font-medium mb-4 text-gray-800">Не нашли ответ на свой вопрос?</h3>
              <p className="text-gray-600">
                Если у вас остались вопросы, не стесняйтесь связаться со мной напрямую. Я с радостью отвечу на все ваши вопросы и предоставлю необходимую информацию о своем подходе и методах работы.
              </p>
            </div>
          </div>
        </div>
      </section>

      <CallToAction />
    </>
  );
};

export default FAQ;
